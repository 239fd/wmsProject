# Программное средство автоматизации складской логистики на основе технологии RPA.

## Краткое описание проекта.
Разрабатываемое программное средство представляет собой микросервисную систему управления складской логистикой, в которой ключевые бизнес-процессы предметной области автоматизируются с использованием технологии Robotic Process Automation (RPA). Система обеспечивает интеграцию функциональных модулей учёта товаров, управления складскими ячейками и стеллажами, оформления и хранения документов, а также взаимодействия с организациями и пользователями. В архитектуре применены принципы Clean Architecture, предметно-ориентированного проектирования (DDD), а также паттерны CQRS, Saga и другие, что позволяет достичь модульности, гибкости и масштабируемости решения.
## Цели проекта. 
Основной целью проекта является повышение эффективности управления складской логистикой за счёт автоматизации рутинных операций и документооборота.
## Основные возможности проекта.
- Управление товарами и отслеживание их статусов в системе  
- Ведение учёта складской инфраструктуры (склады, стеллажи, ячейки) и распределение товаров по местам хранения  
- Автоматизированное формирование актов переоценки, инвентаризационных списков и прочей документации на основе технологии RPA  
- Управление информацией об организациях 
- Поддержка ролевой модели доступа пользователей и интеграция с внешними системами аутентификации  
- Мониторинг и трассировка бизнес-операций с целью повышения надёжности и управляемости системы  

Ссылка на репозиторий сервера: https://github.com/239fd/wmsProject.
Ссылка на репозиторий клиента: https://github.com/239fd/wmsProjectClient.

---

## **Содержание**

1. [Архитектура](#Архитектура)
	1. [C4-модель](#C4-модель)
	2. [Схема данных](#Схема_данных)
2. [Функциональные возможности](#Функциональные_возможности)
	1. [Диаграмма вариантов использования(#Диаграмма_вариантов_использования)]
	2. [User-flow диаграммы](#User-flow_диаграммы)
3. [Детали реализации](#Детали_реализации)
	1. [UML-диаграммы](#UML-диаграммы)
	2. [Спецификация API](#Спецификация_API)
	3. [Безопасность](#Безопасность)
	4. [Оценка качества кода](#Оценка_качества_кода)
4. [Тестирование](#Тестирование)
	1. [Unit-тесты](#Unit-тесты)
	2. [Интеграционные тесты](#Интеграционные_тесты)
5. [Установка и  запуск](#installation)
	1. [Манифесты для сборки docker образов](#Манифесты_для_сборки_docker_образов)
	2. [Манифесты для развертывания k8s кластера](#Манифесты_для_развертывания_k8s_кластера)
6. [Лицензия](#Лицензия)
7. [Контакты](#Контакты)

---
## **Архитектура**

### C4-модель

- [c4-container-level.pdf](./c4-container-level.pdf)
  Диаграмма уровня контейнеров (C4). Отражает основные программные контейнеры системы: веб-интерфейс (SPA на React), API Gateway, микросервисы (WarehouseService, ProductService, DocumentsService, OrganizationService, SSOService), базы данных (PostgreSQL для пользователей, склада, товаров и организаций), а также интеграцию с брокером сообщений RabbitMQ, Redis и системой мониторинга (Jaeger, Prometheus/Grafana). Показывает распределение обязанностей между сервисами и взаимодействие пользователей (складской работник, бухгалтер, директор) с системой.
  <img width="1826" height="1356" alt="с4 2 drawio" src="https://github.com/user-attachments/assets/7f439b38-0552-49b9-9f05-aa9ab91d4560" />

- [c4-component-level.pdf](./c4-component-level.pdf)  
  Диаграмма уровня компонентов (C4). Детализирует внутреннее устройство каждого контейнера на уровене компонентов: контроллеры (например, `AccountController`, `ProductController`, `DocumentsController`), сервисы (например, `AccountService`, `WarehouseService`, `OrganizationService`), модели домена (`User`, `Product`, `Organization`, `Warehouse`, `Document`) и репозитории для работы с БД.  Включает также инфраструктурные компоненты — `EventPublisher`, `EventsListener`, `TracingAdapter`, конфигурацию безопасности и интеграцию с Redis.
	<img width="4385" height="2055" alt="с4 3 drawio" src="https://github.com/user-attachments/assets/cd41f187-49c5-45e7-a0bc-c1e6e60eed08" />

- [c4-code-level.pdf](./c4-code-level.pdf)  
  Диаграмма уровня кода (C4). Представляет детализированную структуру реализации на уровне классов и интерфейсов. Включает контроллеры (`AccountController`, `UserInfoController`, `OAuthClientController` и др.), реализации сервисов (`AccountServiceImpl`, `ProductServiceImpl`, `DocumentServiceImpl`, `OrganizationServiceImpl`, `WarehouseServiceImpl`), доменные сущности (`User`, `Product`, `Document`, `Organization`, `Warehouse`, `Rack`, `Cell`), а также вспомогательные классы (`RPAExecutor`, перечисления `Role`, `Status`, `Type`).
  <img width="3095" height="1315" alt="с4 4 drawio" src="https://github.com/user-attachments/assets/e75212e9-83ac-4b7c-934d-2e6e3c15bd04" />


Архитектура проектируемого программного средства реализована с опорой на принципы Clean Architecture и учитывает положения предметно-ориентированного проектирования (DDD), а также паттерны CQRS, Saga и Database-per-Service. Основной замысел заключается в разделении системы на изолированные микросервисы, каждый из которых отвечает за свой ограниченный контекст и взаимодействует с другими исключительно посредством обмена событиями.
Внутренняя структура сервисов унифицирована и соответствует слоям Clean Architecture. На уровне домена (Entities) определяются сущности, обеспечивающие строгую модель предметной области. Так, в сервисе учётных записей ключевым элементом является пользователь, связанный с набором ролей и прав доступа; в сервисе продуктов доменную основу составляют товар и его жизненный цикл, отражённый в статусах; в сервисе документов реализованы сущности акта переоценки, инвентаризационного списка и прочие документы, а также RPA для автоматизированного формирования документов; в сервисе организаций центральным элементом выступает организация как субъект; в сервисе склада определены склад, стеллажи и ячейки, формирующие основу складской модели.
Над доменной моделью располагается уровень прикладных сценариев (Use Cases), реализующий обработку команд и запросов. Здесь проявляется паттерн CQRS: команды изменяют состояние агрегатов и инициируют публикацию доменных событий, тогда как запросы обеспечивают доступ к материализованным представлениям данных. Например, в сервисе документов команда запускает генерацию акта переоценки, а запрос позволяет получить готовый документ; в сервисе склада команды формируют структуру склада, а запросы возвращают сведения о стеллажах и ячейках.
Интеграция с внешним миром и взаимодействие сервисов организованы через уровень адаптеров. Контроллеры обеспечивают доступ к сервисам, репозитории инкапсулируют операции с данными, а специальные инфраструктурные компоненты отвечают за публикацию и приём событий, а также за трассировку и мониторинг. Все реализации инфраструктуры изолированы в отдельном слое, что также соответствует требованию Clean Architecture.
Большинство сервисов обладает собственной базой данных в соответствии с принципом Database-per-Service. Это исключает межсервисные зависимости на уровне хранилищ и позволяет масштабировать систему фрагментарно, сохраняя согласованность данных посредством обмена событиями. Для координации долгоживущих бизнес-процессов применяется паттерн Saga. Например, при оформлении отгрузки инициируются события, которые затрагивают сервис товара, сервис склада, сервис документов и сервис организаций. Последовательность действий управляется сагой, что обеспечивает как прямое выполнение транзакции, так и компенсацию при возникновении ошибок. 

### Схема данных

Описание отношений и структур данных, используемых в ПС. Также представить скрипт (программный код), который необходим для генерации БД

---

## **Функциональные возможности**

### Диаграмма вариантов использования

Диаграмма вариантов использования и ее описание

### User-flow диаграммы

Описание переходов между части ПС для всех ролей из диаграммы ВИ (название ролей должны совпадать с тем, что указано на c4-модели и диаграмме вариантов использования)


---

## **Детали реализации**

### UML-диаграммы

Представить все UML-диаграммы , которые позволят более точно понять структуру и детали реализации ПС

### Спецификация API

Представить описание реализованных функциональных возможностей ПС с использованием Open API (можно представить либо полный файл спецификации, либо ссылку на него)

### Безопасность

Описать подходы, использованные для обеспечения безопасности, включая описание процессов аутентификации и авторизации с примерами кода из репозитория сервера

### Оценка качества кода

Используя показатели качества и метрики кода, оценить его качество

---

## **Тестирование**

### Unit-тесты

Представить код тестов для пяти методов и его пояснение

### Интеграционные тесты

Представить код тестов и его пояснение

---

## **Установка и  запуск**

### Манифесты для сборки docker образов

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

### Манифесты для развертывания k8s кластера

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

---

## **Лицензия**

Этот проект лицензирован по лицензии MIT - подробности представлены в файле [[License.md|LICENSE.md]]

---

## **Контакты**

Автор: pavelkarliuk1@gmail.com

